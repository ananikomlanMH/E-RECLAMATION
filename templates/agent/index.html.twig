{% extends 'base.html.twig' %}

{% block title %}Agent{% endblock %}

{% block body %}
    <div class="d-flex justify-content-between">
        <h1>Agents</h1>
        <div class="d-flex gap-2">
        <a target="_blank" href="{{ path('agent.print') }}" class="btn btn-primary">Imprimer <i class="align-middle" data-feather="print"></i></a>
        <a href="{{ path('agent.new') }}" class="btn btn-primary">Nouveau <i class="align-middle" data-feather="plus"></i></a>
        </div>
    </div>
    <br>
    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Nom</th>
                <th>Prenom</th>
                <th>Tel</th>
                <th>Fonction</th>
                <th>Matricule</th>
                <th>Genre</th>
                <th>Adresse</th>
                <th style="width: 50px;">actions</th>
            </tr>
        </thead>
        <tbody>
        {% for agent in agents %}
            <tr>
                <td>{{ agent.id }}</td>
                <td>{{ agent.nom }}</td>
                <td>{{ agent.prenom }}</td>
                <td>{{ agent.tel }}</td>
                <td>{{ agent.fonction }}</td>
                <td>{{ agent.matricule }}</td>
                <td>{{ agent.genre }}</td>
                <td>{{ agent.adresse }}</td>
                <td class="d-flex gap-2">
                    <a href="{{ path('agent.show', {'id': agent.id}) }}" class="btn btn-primary">Voir <i class="align-middle" data-feather="users"></i> </a>
                    <a href="{{ path('agent.edit', {'id': agent.id}) }}" class="btn btn-primary">Modifier</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="9" style="text-align:center;">Aucun enregistrement trouv√©.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
